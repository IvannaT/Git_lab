function CheckSoft(t){if(document.getElementById("rowts").innerHTML="",t)for(e=0;e<this.productList.length;e++)productList[e]instanceof Cement&&productList[e].isSoft&&productList[e].Init();else for(var e=0;e<this.productList.length;e++)productList[e].Init()}function CheckPortable(t){if(document.getElementById("rowts").innerHTML="",t)for(e=0;e<this.productList.length;e++)productList[e]instanceof Speakers&&productList[e].isPortable&&productList[e].Init();else for(var e=0;e<this.productList.length;e++)productList[e].Init()}function CheckWireless(t){if(document.getElementById("rowts").innerHTML="",t)for(e=0;e<this.productList.length;e++)productList[e]instanceof Headphones&&productList[e].isWireless&&productList[e].Init();else for(var e=0;e<this.productList.length;e++)productList[e].Init()}function myByBtn(t){basket.Add(t)&&$("#buyModal").modal("hide")}function WantBuy(t){document.getElementById("modlalBtn").setAttribute("value",t)}var Color,__extends=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Product=function(){function t(t,e,i,n,s){this.id=t,this.name=e,this.price=i,this.description=n,this.inStock=s}return t.prototype.Init=function(){var t=document.createElement("h5");t.setAttribute("class","card-title"),t.innerHTML=this.name;var e=document.createElement("div");e.setAttribute("class","col-6 p-0 text-primary font-weight-bold"),e.innerHTML=this.price+" грн.";var i=document.createElement("div");this.IsAvailable()?(i.setAttribute("class","col-6 p-0 text-right text-success"),i.innerHTML="Есть в наличии: "+this.inStock.toString()+" экземпляров"):(i.setAttribute("class","col-6 p-0 text-right text-danger"),i.innerHTML="Нет в наличии");var n=document.createElement("div");n.setAttribute("class","row"),n.appendChild(e),n.appendChild(i);var s=document.createElement("div");s.setAttribute("class","container"),s.appendChild(n);var o=document.createElement("p");o.setAttribute("class","card-text"),o.innerHTML=this.description;var r=document.createElement("a");r.setAttribute("id",this.id.toString()),r.setAttribute("href","#buyModal"),r.setAttribute("class","btn btn-primary"),r.setAttribute("data-toggle","modal"),r.setAttribute("onclick","WantBuy(this.id)"),r.innerHTML="Купить";var l=document.createElement("div");l.setAttribute("class","card-footer"),l.appendChild(r);var a=document.createElement("div");a.setAttribute("class","card-body mh-100"),a.setAttribute("style","height: 200px"),a.appendChild(t),a.appendChild(s),a.appendChild(o);var c=document.createElement("div");c.setAttribute("class","card"),c.appendChild(a),c.appendChild(l);var d=document.createElement("div");return d.setAttribute("class","col-md-6 col-xl-4 p-1"),d.appendChild(c),d},t.prototype.Embed=function(t){document.getElementById("rowts").appendChild(t)},t.prototype.IsAvailable=function(){return this.inStock>0},t}();!function(t){t.Black="Чёрный",t.Gray="Серый",t.Pink="Розовый"}(Color||(Color={}));var FeltBoots=function(t){function e(e,i,n,s,o,r){var l=t.call(this,e,i,n,s,o)||this;return l.id=e,l.name=i,l.price=n,l.description=s,l.inStock=o,l.list=r,l.CalculateFlags(),l.Init(),l}return __extends(e,t),e.prototype.Init=function(){var e=t.prototype.Init.call(this);if(this.isBigSizes){(i=document.createElement("p")).setAttribute("class","card-text text-info m-0"),i.innerHTML="Есть большие размеры",e.firstChild.firstChild.insertBefore(i,e.firstChild.firstChild.childNodes[2])}if(this.haveColors.length>0){var i=document.createElement("p");i.setAttribute("class","card-text text-info m-0");for(var n=this.haveColors[0],s=1;s<this.haveColors.length;s++)n+=", "+this.haveColors[s];i.innerHTML="Есть цвета: "+n,e.firstChild.firstChild.insertBefore(i,e.firstChild.firstChild.childNodes[2])}this.Embed(e)},e.prototype.CalculateFlags=function(){if(this.isBigSizes=!1,null!=this.list)for(e=0;e<this.list.length;e++)if(this.list[e].dimension>43&&this.list[e].quantity>0){this.isBigSizes=!0;break}var t=0;if(this.haveColors=[],null!=this.list)for(var e=0;e<this.list.length;e++)-1==this.haveColors.indexOf(this.list[e].color)&&(this.haveColors[t++]=this.list[e].color)},e}(Product),Cement=function(t){function e(e,i,n,s,o,r){var l=t.call(this,e,i,n,s,o)||this;return l.id=e,l.name=i,l.price=n,l.description=s,l.inStock=o,l.list=r,l.CalculateFlags(),l.Init(),l}return __extends(e,t),e.prototype.Init=function(){var e=t.prototype.Init.call(this);if(this.isSoft){(i=document.createElement("p")).setAttribute("class","card-text text-info m-0"),i.innerHTML="Есть 25 кг",e.firstChild.firstChild.insertBefore(i,e.firstChild.firstChild.childNodes[2])}if(this.haveColors.length>0){var i=document.createElement("p");i.setAttribute("class","card-text text-info m-0");for(var n=this.haveColors[0],s=1;s<this.haveColors.length;s++)n+=", "+this.haveColors[s];i.innerHTML="Есть цвета: "+n,e.firstChild.firstChild.insertBefore(i,e.firstChild.firstChild.childNodes[2])}if(null==document.getElementById("isSoft")&&null!=this.isSoft&&this.isSoft){var o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("id","isSoft"),o.setAttribute("onclick","CheckSoft(this.checked)");var r=document.createElement("p");r.appendChild(o),r.innerHTML+="Только 25 кг<br>";document.getElementById("myTools").appendChild(r)}this.Embed(e)},e.prototype.CalculateFlags=function(){if(this.isSoft=!1,null!=this.list)for(e=0;e<this.list.length;e++)if(this.list[e].isSoft&&this.list[e].quantity>0){this.isSoft=!0;break}var t=0;if(this.haveColors=[],null!=this.list)for(var e=0;e<this.list.length;e++)-1==this.haveColors.indexOf(this.list[e].color)&&(this.haveColors[t++]=this.list[e].color)},e}(Product),Speakers=function(t){function e(e,i,n,s,o,r){var l=t.call(this,e,i,n,s,o)||this;return l.id=e,l.name=i,l.price=n,l.description=s,l.inStock=o,l.list=r,l.CalculateFlags(),l.Init(),l}return __extends(e,t),e.prototype.Init=function(){var e=t.prototype.Init.call(this);if(this.isPortable){(i=document.createElement("p")).setAttribute("class","card-text text-info m-0"),i.innerHTML="Есть переносной",e.firstChild.firstChild.insertBefore(i,e.firstChild.firstChild.childNodes[2])}if(this.haveColors.length>0){var i=document.createElement("p");i.setAttribute("class","card-text text-info m-0");for(var n=this.haveColors[0],s=1;s<this.haveColors.length;s++)n+=", "+this.haveColors[s];i.innerHTML="Есть цвета: "+n,e.firstChild.firstChild.insertBefore(i,e.firstChild.firstChild.childNodes[2])}if(null==document.getElementById("isPortable")&&null!=this.isPortable&&this.isPortable){var o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("id","isPortable"),o.setAttribute("onclick","CheckPortable(this.checked)");var r=document.createElement("p");r.appendChild(o),r.innerHTML+="Только переносной<br>";document.getElementById("myTools").appendChild(r)}this.Embed(e)},e.prototype.CalculateFlags=function(){if(this.isPortable=!1,null!=this.list)for(e=0;e<this.list.length;e++)if(this.list[e].isPortable&&this.list[e].quantity>0){this.isPortable=!0;break}var t=0;if(this.haveColors=[],null!=this.list)for(var e=0;e<this.list.length;e++)-1==this.haveColors.indexOf(this.list[e].color)&&(this.haveColors[t++]=this.list[e].color)},e}(Product),Headphones=function(t){function e(e,i,n,s,o,r){var l=t.call(this,e,i,n,s,o)||this;return l.id=e,l.name=i,l.price=n,l.description=s,l.inStock=o,l.isWireless=r,l.Init(),l}return __extends(e,t),e.prototype.Init=function(){var e=t.prototype.Init.call(this);if(this.isWireless){var i=document.createElement("p");i.setAttribute("class","card-text text-info m-0"),i.innerHTML="Беспроводные",e.firstChild.firstChild.insertBefore(i,e.firstChild.firstChild.childNodes[2])}if(null==document.getElementById("isWireless")&&null!=this.isWireless&&this.isWireless){var n=document.createElement("input");n.setAttribute("type","checkbox"),n.setAttribute("id","isWireless"),n.setAttribute("onclick","CheckWireless(this.checked)");var s=document.createElement("p");s.appendChild(n),s.innerHTML+="Только беспроводные<br>";document.getElementById("myTools").appendChild(s)}this.Embed(e)},e}(Product),Balalaika=function(t){function e(e,i,n,s,o){var r=t.call(this,e,i,n,s,o)||this;return r.id=e,r.name=i,r.price=n,r.description=s,r.inStock=o,r.Init(),r}return __extends(e,t),e.prototype.Init=function(){this.Embed(t.prototype.Init.call(this))},e}(Product),Basket=function(){function t(){this.list=[]}return t.prototype.Add=function(t){var e=+document.getElementById("inputquantity").value;return isNaN(e)||(0^e)!==e||0==e||productList[t].inStock<e?(productList[t].inStock<e?document.getElementById("modlalMessag").innerHTML="Столько на складе нет":document.getElementById("modlalMessag").innerHTML="Введите целое число",!1):(document.getElementById("modlalMessag").innerHTML="",productList[t].inStock-=e,this.list[this.list.length]={id:t,quantity:e},this.UniteSameElements(),this.CalculateBasket(),!0)},t.prototype.UniteSameElements=function(){var t=this;if(this.list.length>=2)for(var e=function(e){var n=i.list.filter(function(i){return i.id==t.list[e].id});if(console.log(n),n.length>1){var s=n[1].quantity;i.list[i.list.indexOf(n[0])].quantity+=s,i.list.splice(i.list.indexOf(n[1]),1)}},i=this,n=0;n<this.list.length;n++)e(n)},t.prototype.CalculateBasket=function(){if(this.list.length>0){for(var t=0,e="В даннвй момент в корзине:<br>",i=0;i<this.list.length;i++)e+=productList[this.list[i].id].name+" - "+this.list[i].quantity+"<br>",t+=productList[this.list[i].id].price*this.list[i].quantity;e+="<br><br>На общую сумму "+t+" грн.",document.getElementById("myBasket").innerHTML=e}else document.getElementById("myBasket").innerHTML="В данный момент корзина пустая"},t}(),basket=new Basket,productList=[new Headphones(0,"Наушники фирмы1",816,"Прекрасные наушники! Сама английская королева слушает жесткий металл через такие же!",4,!0),new FeltBoots(1,"Валенки2",91.2,"Хороший выбор! В них тепло, хорошо. Обувь многосезонная - лето, осень, зима, весна.",6,[{dimension:44,color:Color.Black,quantity:2},{dimension:43,color:Color.Black,quantity:3},{dimension:42,color:Color.Black,quantity:1},{dimension:41,color:Color.Black,quantity:2},{dimension:44,color:Color.Gray,quantity:2},{dimension:39,color:Color.Gray,quantity:1},{dimension:45,color:Color.Gray,quantity:1},{dimension:42,color:Color.Gray,quantity:1}]),new Headphones(2,"Наушники фирмы4",119.5,"Дёшево не значит плохо! Эти наушники стоят своих денег!",30,!1),new Headphones(3,"Наушники фирмы2",144,"Это оптимальный выбор! Налетай торопись!",15,!0),new Balalaika(4,"Балалайка1",915,"Сам страдивари её выстругал! Мастер Страдивари Аарон Моисеевич ©. В комплекте к балалайке должен идти медведь.",1),new FeltBoots(5,"Валенки3",65,"Валенки знаменитой российской фабрики Красный ЦинБаоЧен. Оригинальный продукт сделаный по технологиям прошлого.",1),new Headphones(6,"Наушники фирмы3",265,"Тру поклонники музыки обязательно такие имеют! А ты что? Ты не тру?!",0),new FeltBoots(7,"Валенки1",666.66,"Валенки великолепной работы слепого мастера Игната! В комплекте к валенкам идёт кокошник.",2,[{dimension:45,color:Color.Pink,quantity:1},{dimension:43,color:Color.Pink,quantity:1}]),new Cement(8,"Цемент",666,"Прекрасный выбор! Качественный материал",90,[{isSoft:!0,color:Color.Pink,quantity:1},{isSoft:!1,color:Color.Pink,quantity:1}]),new Speakers(8,"Видеомагнитофон",666,"Отличный выбор! Качественный товар",90,[{isPortable:!0,color:Color.Pink,quantity:1},{isPortable:!1,color:Color.Pink,quantity:1}]),new Balalaika(9,"Балалайка2",217,"Обычная балалайка белорусской фирмы Змрочныя мелодыі.",1)];